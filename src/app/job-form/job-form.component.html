<form [formGroup]="jobForm" (ngSubmit)="addJob()">
  <div>
    <label for="companyName">Company Name:</label>
    <input id="companyName" formControlName="companyName" required>
  </div>
  <div>
    <label for="companyWebsite">Company Website:</label>
    <input id="companyWebsite" formControlName="companyWebsite" type="url" required>
    <div style="color: red;" *ngIf="jobForm.get('companyWebsite')?.hasError('websiteInvalid') && jobForm.get('companyWebsite')?.touched">
      Website URL must contain a period (.)
    </div>
  </div>
  <div>
    <label for="companyDescription">Company Description:</label>
    <textarea id="companyDescription" formControlName="companyDescription" required></textarea>
  </div>
  <div formArrayName="positions">
    <div *ngFor="let position of positions.controls; let i=index" [formGroupName]="i">
      <div>
        <label for="positionName">Position Name:</label>
        <input id="positionName" formControlName="name" required>
      </div>
      <div>
        <label for="positionLevel">Position Level:</label>
        <input id="positionLevel" formControlName="level">
      </div>
      <div>
        <label for="positionDescription">Position Description:</label>
        <textarea id="positionDescription" formControlName="description" required></textarea>
      </div>
      <div>
        <label for="startDate">Start Date:</label>
        <input type="date" id="startDate" formControlName="startDate" required>
      </div>
      <div>
        <label for="endDate">End Date:</label>
        <input type="date" id="endDate" formControlName="endDate" required>
      </div>
      <button type="button" (click)="removePosition(i)">Remove Position</button>
    </div>
  </div>
  <button type="button" (click)="addPosition()">Add Position</button>
  <button type="submit">Add Job</button>
</form>
